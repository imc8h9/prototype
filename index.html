<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¬ÙŠÙ†ÙˆÙ… Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠ Ø§Ù„Ù…ØªÙƒÙŠÙ‘Ù â€” MVP Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root{
      --bg-primary:#0A0F1C;--bg-secondary:#0F1624;--bg-card:rgba(20,28,45,.7);--bg-card-hover:rgba(30,40,60,.85);
      --neon-blue:#00E0FF;--neon-purple:#AA00FF;--neon-cyan:#00FFF0;--neon-pink:#FF006E;
      --text-primary:#fff;--text-secondary:#B4C7E7;--text-muted:#7A8BA3;
      --btn-primary-bg:linear-gradient(135deg,#00E0FF 0%,#AA00FF 100%);--btn-primary-glow:0 0 20px rgba(0,224,255,.6);
      --btn-secondary-bg:transparent;--btn-secondary-border:#00E0FF;--grid-line:rgba(0,224,255,.1);
    }
    *{box-sizing:border-box}
    body{
      margin:0;padding:0;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:radial-gradient(circle at top,#151b30 0%,#050814 60%,#02030a 100%);
      color:var(--text-primary);direction:rtl;
    }
    a{color:inherit;text-decoration:none}
    button{font-family:inherit;cursor:pointer}
    .app{
      min-height:100vh;position:relative;overflow-x:hidden;
      background-image:linear-gradient(90deg,var(--grid-line) 1px,transparent 1px),
                       linear-gradient(180deg,var(--grid-line) 1px,transparent 1px);
      background-size:80px 80px;
    }
    .neon-orb{position:fixed;width:260px;height:260px;border-radius:50%;filter:blur(60px);opacity:.35;pointer-events:none;z-index:0;animation:floatOrb 26s ease-in-out infinite alternate}
    .orb-1{background:var(--neon-blue);top:-60px;right:10%;animation-duration:28s}
    .orb-2{background:var(--neon-purple);bottom:-80px;left:5%;animation-duration:24s}
    .orb-3{background:var(--neon-cyan);top:40%;left:40%;animation-duration:32s}
    .neon-orb.neon-paused{animation-play-state:paused;opacity:.18}
    @keyframes floatOrb{0%{transform:translate3d(0,0,0) scale(1);opacity:.28}50%{transform:translate3d(20px,-20px,0) scale(1.05);opacity:.4}100%{transform:translate3d(-25px,25px,0) scale(.95);opacity:.3}}

    header{
      position:sticky;top:0;z-index:10;backdrop-filter:blur(18px);
      background:linear-gradient(to bottom,rgba(5,8,20,.95),rgba(5,8,20,.7));
      border-bottom:1px solid var(--grid-line);
    }
    .nav{
      max-width:1200px;margin:0 auto;padding:.75rem 1.5rem;
      display:flex;align-items:center;justify-content:space-between;gap:1.5rem
    }
    .brand{display:flex;align-items:center;gap:.6rem}
    .logo{
      width:32px;height:32px;border-radius:10px;border:1px solid var(--neon-blue);
      box-shadow:0 0 12px rgba(0,224,255,.4);
      display:flex;align-items:center;justify-content:center;font-size:1.1rem;color:var(--neon-cyan)
    }
    .brand-text{display:flex;flex-direction:column;font-size:.85rem}
    .brand-text span:first-child{font-weight:600}
    .nav-links{display:flex;gap:.65rem;align-items:center;flex-wrap:wrap;justify-content:flex-end}
    .nav-links button{
      background:transparent;border:none;color:var(--text-secondary);
      padding:.3rem .6rem;border-radius:999px;transition:.2s;font-size:.9rem
    }
    .nav-links button:hover{color:var(--neon-blue)}
    .nav-links .primary-nav-btn{
      background:var(--btn-primary-bg);color:#fff;padding:.4rem 1rem;
      box-shadow:var(--btn-primary-glow);border-radius:999px;border:none;font-size:.9rem
    }
    .nav-links .secondary-nav-btn{
      border:1px solid var(--btn-secondary-border);
      padding:.4rem 1rem;border-radius:999px;background:transparent;color:var(--neon-blue)
    }
    .nav-links .danger-nav-btn{
      border:1px solid rgba(255,0,110,.65);color:#FF8AC2;
      padding:.4rem 1rem;border-radius:999px;background:rgba(255,0,110,.08)
    }

    main{max-width:1200px;margin:0 auto;padding:1.5rem;position:relative;z-index:1}
    section{display:none;padding:2rem 0 4rem;min-height:calc(100vh - 80px)}
    section.active-section{display:block}

    .section-header{margin-bottom:1.2rem}
    .section-header h2{margin:0 0 .5rem;font-size:1.6rem}
    .section-header p{margin:0;color:var(--text-secondary);font-size:.9rem}

    .btn-primary{
      background:var(--btn-primary-bg);color:#fff;border-radius:999px;padding:.7rem 1.6rem;border:none;
      box-shadow:var(--btn-primary-glow);font-size:.95rem;font-weight:700;position:relative;overflow:hidden
    }
    .btn-secondary{
      background:transparent;color:var(--neon-blue);border-radius:999px;padding:.7rem 1.6rem;border:1px solid var(--btn-secondary-border);
      font-size:.95rem;font-weight:600
    }
    .btn-small{padding:.5rem 1.2rem;font-size:.85rem;border-radius:999px;border:none;background:var(--btn-primary-bg);color:#fff;box-shadow:var(--btn-primary-glow)}
    .btn-outline{background:transparent;border-radius:999px;border:1px solid var(--btn-secondary-border);color:var(--neon-blue);padding:.5rem 1.2rem;font-size:.85rem}
    .btn-ghost{background:transparent;border-radius:999px;border:1px dashed rgba(0,224,255,.4);color:var(--text-secondary);padding:.45rem 1rem;font-size:.85rem}

    .card{
      background:rgba(15,22,36,.92);border:1px solid rgba(0,224,255,.25);border-radius:18px;
      box-shadow:0 0 18px rgba(0,0,0,.55);padding:1.2rem 1.4rem
    }
    .grid-2{display:grid;grid-template-columns:1.5fr 1fr;gap:1rem}
    @media(max-width:900px){.grid-2{grid-template-columns:1fr}}

    .gate-toast{
      margin:0 auto 1rem;max-width:1200px;border-radius:14px;border:1px solid rgba(255,0,110,.45);
      background:rgba(255,0,110,.08);color:#FFB3D5;padding:.7rem .9rem;font-size:.85rem;display:none
    }
    .gate-toast strong{color:#FFD1E6}

    /* Login */
    .auth-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-top:.8rem}
    @media(max-width:800px){.auth-grid{grid-template-columns:1fr}}
    .form-group{display:flex;flex-direction:column;gap:.25rem;font-size:.85rem}
    label{color:var(--text-secondary)}
    input{
      padding:.6rem .7rem;border-radius:10px;border:1px solid rgba(0,224,255,.35);
      background:rgba(15,22,36,.8);color:var(--text-primary);outline:none;transition:.2s
    }
    input:focus{border-color:var(--neon-blue);box-shadow:0 0 14px rgba(0,224,255,.5)}
    .auth-actions{display:flex;gap:.6rem;flex-wrap:wrap;justify-content:flex-end;margin-top:.9rem}
    .auth-note{font-size:.8rem;color:var(--text-muted);margin-top:.6rem;line-height:1.6}
    .auth-error{color:#FF8AC2;font-size:.85rem;margin-top:.6rem;font-weight:700}

    /* Home */
    .home-hero{
      display:grid;grid-template-columns:1.5fr 1fr;gap:1rem;align-items:stretch
    }
    @media(max-width:900px){.home-hero{grid-template-columns:1fr}}
    .home-title{font-size:1.7rem;margin:0 0 .5rem}
    .home-sub{margin:0;color:var(--text-secondary);line-height:1.8;font-size:.92rem}
    .home-actions{display:flex;gap:.7rem;flex-wrap:wrap;margin-top:1rem}
    .kpi-row{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.7rem}
    @media(max-width:900px){.kpi-row{grid-template-columns:1fr}}
    .kpi{
      border-radius:16px;border:1px solid rgba(0,224,255,.18);background:rgba(10,16,28,.78);
      padding:.85rem .95rem
    }
    .kpi .v{font-size:1.2rem;font-weight:900;color:var(--neon-cyan)}
    .kpi .l{font-size:.8rem;color:var(--text-secondary);margin-top:.15rem}

    /* Demo employee */
    .demo-meta{display:grid;grid-template-columns:1fr 1fr;gap:.7rem 1rem;font-size:.86rem;color:var(--text-secondary)}
    @media(max-width:800px){.demo-meta{grid-template-columns:1fr}}
    .demo-meta strong{color:var(--neon-cyan);font-weight:800}
    .pill{
      display:inline-flex;align-items:center;gap:.35rem;border-radius:999px;padding:.25rem .7rem;
      border:1px solid rgba(0,224,255,.28);background:rgba(0,224,255,.08);font-size:.78rem;color:var(--text-secondary);margin-top:.6rem
    }

    /* Table */
    .table-wrap{margin-top:.9rem;border-radius:14px;overflow:auto;border:1px solid rgba(0,224,255,.18)}
    table{width:100%;border-collapse:collapse;min-width:820px;background:rgba(10,16,28,.6)}
    th,td{padding:10px 12px;border-bottom:1px solid rgba(0,224,255,.10);text-align:right;font-size:.84rem;color:var(--text-secondary);white-space:nowrap}
    th{color:#DCE8FF;font-weight:800}

    /* Dashboard */
    .dashboard-grid{display:grid;grid-template-columns:minmax(0,3fr) minmax(0,2fr);gap:1.2rem}
    @media(max-width:900px){.dashboard-grid{grid-template-columns:1fr}}
    .dash-main,.dash-side{background:rgba(15,22,36,.95);border-radius:20px;padding:1.2rem 1.4rem;border:1px solid rgba(0,224,255,.25);box-shadow:0 0 20px rgba(0,0,0,.55)}
    #skillsRadar{display:block;max-width:100%;margin:0 auto}
    .readiness{margin-top:1rem;display:flex;align-items:center;gap:1rem;flex-wrap:wrap}
    .circle{
      width:80px;height:80px;border-radius:50%;border:2px solid rgba(0,224,255,.6);
      box-shadow:0 0 18px rgba(0,224,255,.6);
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      background:radial-gradient(circle at top,rgba(0,224,255,.3),rgba(4,12,24,.95));position:relative;overflow:hidden
    }
    .circle:before{content:"";position:absolute;inset:12px;border-radius:50%;border:1px dashed rgba(0,224,255,.5);animation:rotate 12s linear infinite}
    @keyframes rotate{to{transform:rotate(360deg)}}
    .circle .v{font-size:1.4rem;font-weight:900;color:var(--neon-cyan);z-index:1}
    .circle .t{font-size:.7rem;color:var(--text-secondary);z-index:1}

    .list{list-style:none;padding:0;margin:0;font-size:.85rem}
    .list li{display:flex;justify-content:space-between;align-items:center;padding:.35rem .3rem;border-bottom:1px dashed rgba(0,224,255,.12)}
    .list li:last-child{border-bottom:none}
    .tag{
      font-size:.75rem;padding:.15rem .55rem;border-radius:999px;background:rgba(255,0,110,.12);border:1px solid rgba(255,0,110,.6);color:#FF8AC2
    }

    /* Market cards */
    .market-layout{display:grid;grid-template-columns:minmax(0,3fr) minmax(0,2fr);gap:1rem}
    @media(max-width:900px){.market-layout{grid-template-columns:1fr}}
    .market-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:.8rem;margin-top:.7rem}
    .market-card{
      border-radius:14px;padding:.75rem .85rem;background:rgba(10,16,28,.95);
      border:1px solid rgba(0,224,255,.18);position:relative;overflow:hidden
    }
    .market-card-title{font-size:.9rem;margin-bottom:.15rem}
    .market-card-meta{font-size:.75rem;color:var(--text-muted);margin-bottom:.45rem}
    .market-tag-row{display:flex;flex-wrap:wrap;gap:.25rem;margin-bottom:.35rem}
    .market-tag{font-size:.7rem;padding:.15rem .45rem;border-radius:999px;border:1px solid rgba(0,224,255,.35);color:var(--text-secondary)}
    .basket{list-style:none;padding:0;margin:.5rem 0 0;font-size:.84rem}
    .basket li{display:flex;justify-content:space-between;align-items:center;padding:.3rem .2rem;border-bottom:1px dashed rgba(0,224,255,.12)}
    .basket li:last-child{border-bottom:none}
    .basket-pill{padding:.15rem .5rem;font-size:.75rem;border-radius:999px;border:1px solid rgba(170,0,255,.6);background:rgba(170,0,255,.15);color:var(--text-secondary)}

    body.reduced-motion *{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}
  </style>
</head>

<body>
<div class="app">
  <div class="neon-orb orb-1"></div>
  <div class="neon-orb orb-2"></div>
  <div class="neon-orb orb-3"></div>

  <header>
    <nav class="nav">
      <div class="brand">
        <div class="logo">ğŸ§¬</div>
        <div class="brand-text">
          <span>Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¬ÙŠÙ†ÙˆÙ… Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠ Ø§Ù„Ù…ØªÙƒÙŠÙ‘Ù</span>
          <span style="font-size:.75rem;color:var(--text-secondary);">Adaptive Skills Engine â€” MVP Demo</span>
        </div>
      </div>

      <div class="nav-links">
        <button data-target="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        <button data-target="gaps">Ø§Ù„ÙØ¬ÙˆØ©</button>
        <button data-target="dashboard">Ù„ÙˆØ­Ø© Ø§Ù„Ø¬ÙŠÙ†ÙˆÙ…</button>
        <button data-target="profile">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</button>
        <button data-target="pathway">Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ</button>
        <button data-target="market">Ø³ÙˆÙ‚ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</button>
        <button data-target="settings">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>

        <button class="secondary-nav-btn" data-target="login" id="navLoginBtn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        <button class="danger-nav-btn" id="navLogoutBtn" style="display:none;">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>

        <button class="primary-nav-btn" data-target="home">Ø§Ø¨Ø¯Ø£</button>
      </div>
    </nav>
  </header>

  <main>
    <div class="gate-toast" id="gateToast"><strong>ØªÙ†Ø¨ÙŠÙ‡:</strong> Ù„Ø§Ø²Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ø¨Ø­Ø³Ø§Ø¨ Ø§Ù„Ù€ Demo.</div>

    <!-- LOGIN -->
    <section id="login" class="active-section">
      <div class="section-header">
        <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Demo Account)</h2>
        <p>Ø§Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„Ø¥Ø¸Ù‡Ø§Ø± ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø«Ù… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ¬ÙˆØ©/Ù„ÙˆØ­Ø© Ø§Ù„Ø¬ÙŠÙ†ÙˆÙ….</p>
      </div>

      <div class="card">
        <div class="auth-grid">
          <div class="form-group">
            <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
            <input id="loginUsername" type="text" placeholder="Ù…Ø«Ø§Ù„: teacher.demo" />
          </div>
          <div class="form-group">
            <label>Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© (Demo)</label>
            <input id="loginNationalId" type="text" placeholder="Ù…Ø«Ø§Ù„: 1023456789" />
          </div>
          <div class="form-group" style="grid-column: 1 / -1;">
            <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
            <input id="loginPassword" type="password" placeholder="Ù…Ø«Ø§Ù„: Demo@2026" />
          </div>
        </div>

        <div class="auth-actions">
          <button class="btn-outline" id="btnFillDemo">ØªØ¹Ø¨Ø¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª Demo</button>
          <button class="btn-small" id="btnLogin">Ø¯Ø®ÙˆÙ„</button>
        </div>

        <div class="auth-error" id="loginError" style="display:none;"></div>
        <div class="auth-note" id="demoCredText"></div>
      </div>
    </section>

    <!-- HOME (Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„) -->
    <section id="home">
      <div class="section-header">
        <h2>Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h2>
        <p>Ù…Ù† Ù‡Ù†Ø§ ØªØ®ØªØ§Ø± ØªØ¹Ø±Ø¶ Ø§Ù„ÙØ¬ÙˆØ§Øª Ø£Ùˆ Ù„ÙˆØ­Ø© Ø§Ù„Ø¬ÙŠÙ†ÙˆÙ… Ø£Ùˆ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ.</p>
      </div>

      <div class="home-hero">
        <div class="card">
          <h3 class="home-title" id="homeWelcome">Ù…Ø±Ø­Ø¨Ø§Ù‹ ğŸ‘‹</h3>
          <p class="home-sub" id="homeSub">
            Ù‡Ø°Ù‡ Ù†Ø³Ø®Ø© MVP Demo Ù…Ø¨Ù†ÙŠØ© Ø¹Ù„Ù‰ Ù…Ù„Ù Ù…ÙˆØ¸Ù ØªØ¬Ø±ÙŠØ¨ÙŠØŒ ÙˆØªØ¹Ø±Ø¶ ÙƒÙŠÙ ÙŠØªÙ… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØ¬ÙˆØ§Øª Ø«Ù… Ø§Ù‚ØªØ±Ø§Ø­ Ù…Ø³Ø§Ø± ØªØ¯Ø±ÙŠØ¨ÙŠ.
          </p>
          <div class="home-actions">
            <button class="btn-primary" data-target="gaps">Ø¹Ø±Ø¶ Ø§Ù„ÙØ¬ÙˆØ© (Skill Gaps)</button>
            <button class="btn-secondary" data-target="dashboard">Ø¹Ø±Ø¶ Ù„ÙˆØ­Ø© Ø§Ù„Ø¬ÙŠÙ†ÙˆÙ…</button>
            <button class="btn-ghost" data-target="pathway">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ</button>
          </div>
          <div class="pill">âœ… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø­ÙƒÙ‘Ø§Ù… â€¢ Demo / Test Data</div>
        </div>

        <div class="card">
          <h3 style="margin:0 0 .6rem;">Ù…Ù„Ø®Øµ Ø³Ø±ÙŠØ¹</h3>
          <div class="kpi-row" style="margin-top:.3rem;">
            <div class="kpi">
              <div class="v" id="kpiReadiness">0</div>
              <div class="l">Ù…Ø¤Ø´Ø± Ø§Ù„Ø¬Ø§Ù‡Ø²ÙŠØ©</div>
            </div>
            <div class="kpi">
              <div class="v" id="kpiTopGap">â€”</div>
              <div class="l">Ø£Ø¹Ù„Ù‰ ÙØ¬ÙˆØ©</div>
            </div>
            <div class="kpi">
              <div class="v" id="kpiRecs">â€”</div>
              <div class="l">Ø¹Ø¯Ø¯ ØªÙˆØµÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø©</div>
            </div>
          </div>
          <div style="margin-top:.9rem;color:var(--text-muted);font-size:.82rem;line-height:1.7;">
            * Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù…Ø­Ø³ÙˆØ¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ù…Ù„Ù Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.
          </div>
        </div>
      </div>
    </section>

    <!-- GAPS -->
    <section id="gaps">
      <div class="section-header">
        <h2>Ø§Ù„ÙØ¬ÙˆØ§Øª Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠØ© (Skill Gaps)</h2>
        <p>Ø¹Ø±Ø¶ ÙØ¬ÙˆØ§Øª Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¨Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ù„ÙˆØ¸ÙŠÙØªÙ‡.</p>
      </div>

      <div class="card">
        <h3 style="margin:0 0 .6rem;">ğŸ‘¤ Ù…Ù„Ù Ø§Ù„Ù…ÙˆØ¸Ù (Demo) â€” Ù…Ø¹Ù„Ù… Ø­Ø§Ø³Ø¨ Ø«Ø§Ù†ÙˆÙŠ (Ø­ÙƒÙˆÙ…ÙŠ)</h3>
        <div class="demo-meta" id="demoEmployeeMeta"></div>
        <div class="pill">ğŸ§ª Demo/Test Data â€” Ù„Ù„Ø¹Ø±Ø¶ ÙÙ‚Ø·</div>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Ø§Ù„Ù…Ù‡Ø§Ø±Ø©</th>
                <th>Ø§Ù„Ø­Ø§Ù„ÙŠ (1-5)</th>
                <th>Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</th>
                <th>Ø§Ù„ÙØ¬ÙˆØ©</th>
                <th>ØªÙˆØµÙŠØ© Ø³Ø±ÙŠØ¹Ø©</th>
              </tr>
            </thead>
            <tbody id="demoGapsTbody"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- DASHBOARD -->
    <section id="dashboard">
      <div class="section-header">
        <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ø¬ÙŠÙ†ÙˆÙ… Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠ</h2>
        <p>Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø±Ø§Ø¯Ø§Ø±ÙŠ Ø«Ø§Ø¨Øª Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ (Autoâ€‘Computed / Readâ€‘Only).</p>
      </div>

      <div class="dashboard-grid">
        <div class="dash-main">
          <canvas id="skillsRadar" width="420" height="320"></canvas>
          <div class="readiness">
            <div class="circle">
              <div class="v" id="readinessValue">0</div>
              <div class="t">Ø¬Ø§Ù‡Ø²ÙŠØ©</div>
            </div>
            <div style="max-width:280px;color:var(--text-secondary);line-height:1.7;font-size:.9rem;">
              Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„Ù…ÙˆØ¸Ù Ù„Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„Ø±Ù‚Ù…ÙŠØ©/Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø­Ø¯ÙŠØ«Ø© Ù…Ø­Ø³ÙˆØ¨Ø© Ù…Ù† Ù…ØªÙˆØ³Ø· Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø¬ÙŠÙ†ÙˆÙ… Ø§Ù„Ø³ØªØ©.
              <div style="color:var(--text-muted);font-size:.8rem;margin-top:.25rem;">
                * ÙÙŠ Ù†Ø³Ø®Ø© Ø§Ù„Ù€ MVP: Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ¹Ø¯ÙŠÙ„ ÙŠØ¯ÙˆÙŠ.
              </div>
            </div>
          </div>
        </div>

        <div class="dash-side">
          <h3 style="margin:0 0 .4rem;">Ù…Ù„Ø®Øµ Ø§Ù„Ø¬ÙŠÙ†ÙˆÙ…</h3>
          <ul class="list" id="skillsSummaryList"></ul>

          <h4 style="margin:1rem 0 .3rem;">Ø£Ø¹Ù„Ù‰ ÙØ¬ÙˆØ§Øª</h4>
          <ul class="list" id="empGapsList"></ul>

          <h4 style="margin:1rem 0 .3rem;">ØªÙˆØµÙŠØ§Øª ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ø³Ø±ÙŠØ¹Ø©</h4>
          <ul class="list" id="empCoursesList"></ul>

          <div style="margin-top:.9rem;display:flex;flex-wrap:wrap;gap:.5rem;">
            <button class="btn-small" data-target="pathway">Ø§Ù†ØªÙ‚Ù„ Ù„Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ</button>
            <button class="btn-ghost" data-target="gaps">Ø¹Ø±Ø¶ Ø§Ù„ÙØ¬ÙˆØ§Øª</button>
          </div>
        </div>
      </div>
    </section>

    <!-- PROFILE -->
    <section id="profile">
      <div class="section-header">
        <h2>Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h2>
        <p>Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙŠØªÙ… Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© (Ø¨Ø¯ÙˆÙ† Ø¥Ø¯Ø®Ø§Ù„ ÙŠØ¯ÙˆÙŠ).</p>
      </div>

      <div class="card">
        <h3 style="margin:0 0 .6rem;">ğŸ“Œ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…ÙˆØ¸Ù (Demo)</h3>
        <div class="demo-meta" id="profileEmployeeMeta"></div>
        <div class="pill">Autoâ€‘filled Profile (Demo)</div>
      </div>
    </section>

    <!-- PATHWAY -->
    <section id="pathway">
      <div class="section-header">
        <h2>Ù…Ø³Ø§Ø± ØªØ¯Ø±ÙŠØ¨ÙŠ Ù…Ø®ØµØµ</h2>
        <p>Microâ€‘Learning Path Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ ÙØ¬ÙˆØ§Øª Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ.</p>
      </div>

      <div class="card">
        <h3 style="margin:0 0 .6rem;">ğŸ§­ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ (Demo)</h3>
        <p style="margin:0;color:var(--text-secondary);font-size:.88rem;line-height:1.7;">
          ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø³Ø§Ø± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙØ¬ÙˆØ§Øª: <strong style="color:var(--neon-cyan);">AI in Education</strong> +
          <strong style="color:var(--neon-cyan);">Prompting</strong> + <strong style="color:var(--neon-cyan);">Student Data Analytics</strong>.
        </p>
        <div id="demoLPGrid" style="margin-top:.9rem;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.8rem;"></div>
        <div style="margin-top:.9rem;color:var(--text-muted);font-size:.82rem;line-height:1.7;">
          Ù„Ø§Ø­Ù‚Ù‹Ø§ ÙŠÙ…ÙƒÙ† Ø±Ø¨Ø· Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø¹Ø¨Ø± APIs Ù…Ø«Ù„ Coursera / edX / LinkedIn Learning.
        </div>
      </div>
    </section>

    <!-- MARKET -->
    <section id="market">
      <div class="section-header">
        <h2>Ø³ÙˆÙ‚ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</h2>
        <p>Ø§Ù‚ØªØ±Ø§Ø­ Ù…Ù‡Ø§Ø±Ø§Øª/Ø¯ÙˆØ±Ø§Øª Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø£Ø¶Ø¹Ù Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø¬ÙŠÙ†ÙˆÙ….</p>
      </div>

      <div class="market-layout">
        <div class="card">
          <h3 style="margin:0;">ğŸ”® ØªÙˆØµÙŠØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ø¬ÙŠÙ†ÙˆÙ…</h3>
          <div class="market-cards" id="marketRecommendations"></div>
        </div>

        <div class="card">
          <h3 style="margin:0;">ğŸ§º Ø³Ù„Ø© Ù…Ù‡Ø§Ø±Ø§ØªÙŠ</h3>
          <ul class="basket" id="skillsBasketList"></ul>
          <div style="margin-top:.7rem;color:var(--text-muted);font-size:.82rem;">Demo Basket â€” Ù„Ø§Ø­Ù‚Ù‹Ø§ ØªÙØ­ÙØ¸ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª.</div>
        </div>
      </div>
    </section>

    <!-- SETTINGS -->
    <section id="settings">
      <div class="section-header">
        <h2>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ©</h2>
        <p>ÙˆØ§Ø¬Ù‡Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© (UI) Ù„Ø¹Ø±Ø¶ ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªØ­ÙƒÙ….</p>
      </div>

      <div class="grid-2">
        <div class="card">
          <h3 style="margin:0 0 .6rem;">ğŸ› Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>

          <div style="display:flex;justify-content:space-between;align-items:center;gap:.6rem;padding:.45rem .3rem;border-bottom:1px dashed rgba(0,224,255,.15);">
            <div>
              <div style="font-size:.88rem;color:var(--text-secondary);">Ø­Ø±ÙƒØ© Ø§Ù„Ù†ÙŠÙˆÙ†</div>
              <div style="font-size:.75rem;color:var(--text-muted);margin-top:.1rem;">ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø­Ø±ÙƒØ© Ø§Ù„Ø®Ù„ÙÙŠØ©.</div>
            </div>
            <label style="position:relative;width:42px;height:22px;">
              <input type="checkbox" id="toggleNeonAnimation" checked style="opacity:0;width:0;height:0;">
              <span id="neonSlider" style="position:absolute;inset:0;background:#354055;border-radius:999px;transition:.2s;"></span>
            </label>
          </div>

          <div style="display:flex;justify-content:space-between;align-items:center;gap:.6rem;padding:.45rem .3rem;">
            <div>
              <div style="font-size:.88rem;color:var(--text-secondary);">ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ© (Accessibility)</div>
              <div style="font-size:.75rem;color:var(--text-muted);margin-top:.1rem;">ÙŠÙˆÙ‚Ù Ø§Ù„Ø­Ø±ÙƒØ§Øª ÙˆØ§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª.</div>
            </div>
            <label style="position:relative;width:42px;height:22px;">
              <input type="checkbox" id="toggleReducedMotion" style="opacity:0;width:0;height:0;">
              <span id="rmSlider" style="position:absolute;inset:0;background:#354055;border-radius:999px;transition:.2s;"></span>
            </label>
          </div>

          <div style="margin-top:.7rem;color:var(--text-muted);font-size:.82rem;">UI Demo ÙÙ‚Ø·.</div>
        </div>

        <div class="card">
          <h3 style="margin:0 0 .6rem;">ğŸ” Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h3>
          <ul style="font-size:.85rem;color:var(--text-secondary);line-height:1.9;margin:0;padding-right:1rem;">
            <li>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§ ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø¹Ø±Ø¶ ÙÙ‚Ø·.</li>
            <li>ÙŠÙ…ÙƒÙ† Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¥Ø¶Ø§ÙØ© ØªØ´ÙÙŠØ± ÙˆØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØµÙˆÙ„.</li>
            <li>Ø¯Ø¹Ù… Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ…Ø¯Ø© Ø§Ù„Ø§Ø­ØªÙØ§Ø¸.</li>
          </ul>
        </div>
      </div>
    </section>

  </main>
</div>

<script>
  // =========================
  // 1) DEMO CREDENTIALS (ØºÙŠÙ‘Ø±Ù‡Ø§ Ù‡Ù†Ø§)
  // =========================
  const DEMO_CRED = {
    username: "teacher.demo",
    nationalId: "1023456789",
    password: "Demo@2026"
  };

  // =========================
  // 2) DEMO EMPLOYEE DATA
  // =========================
  const demoEmployee = {
    name: "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø³Ø¨ÙŠØ¹ÙŠ",
    nationalId: DEMO_CRED.nationalId,
    role: "Ù…Ø¹Ù„Ù… Ø­Ø§Ø³Ø¨ Ø¢Ù„ÙŠ â€“ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©",
    sector: "Ø­ÙƒÙˆÙ…ÙŠ",
    experience: 15,
    graduationYear: 2009,
    lastTrainingYear: 2019,
    note: "Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù‚Ø¨Ù„ ~15 Ø³Ù†Ø©ØŒ ÙˆÙŠØ­ØªØ§Ø¬ ØªØ­Ø¯ÙŠØ« Ù…Ù‡Ø§Ø±Ø§ØªÙ‡ Ù„Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø© ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ…."
  };

  const demoSkillMatrix = [
    { skill: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ Ø§Ù„Ø±Ù‚Ù…ÙŠ", current: 3, required: 4 },
    { skill: "ØªØµÙ…ÙŠÙ… Ù…Ø­ØªÙˆÙ‰ ØªÙØ§Ø¹Ù„ÙŠ", current: 3, required: 4 },
    { skill: "ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨", current: 2, required: 4 },
    { skill: "Ø£Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª (Ø£Ø³Ø§Ø³ÙŠ)", current: 2, required: 3 },
    { skill: "Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©", current: 2, required: 3 },
    { skill: "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ…", current: 1, required: 4 },
    { skill: "Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø± (Prompting)", current: 1, required: 4 },
    { skill: "Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", current: 1, required: 3 }
  ];

  const demoLearningPath = [
    { stage:"Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1 â€” Ø£Ø³Ø§Ø³ÙŠØ§Øª", items:[
      { title:"AI for Everyone", platform:"Coursera", url:"https://www.coursera.org/" },
      { title:"Introduction to Generative AI", platform:"edX", url:"https://www.edx.org/" }
    ]},
    { stage:"Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2 â€” ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ…", items:[
      { title:"Teaching with AI Tools", platform:"LinkedIn Learning", url:"https://www.linkedin.com/learning/" },
      { title:"Dataâ€‘Driven Teaching Strategies", platform:"Coursera", url:"https://www.coursera.org/" }
    ]},
    { stage:"Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3 â€” Ø§Ø­ØªØ±Ø§Ù Ø¹Ù…Ù„ÙŠ", items:[
      { title:"Prompt Engineering Basics", platform:"Udemy", url:"https://www.udemy.com/" },
      { title:"Responsible AI & Ethics", platform:"edX", url:"https://www.edx.org/" }
    ]}
  ];

  const skillsDefinition = [
    { id:'logic', label:'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠ' },
    { id:'comm', label:'Ø§Ù„ØªÙˆØ§ØµÙ„' },
    { id:'lead', label:'Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„ØªØ£Ø«ÙŠØ±' },
    { id:'tech', label:'Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ© (Digital)' },
    { id:'adapt', label:'Ø§Ù„ØªÙƒÙŠÙ‘Ù ÙˆØ§Ù„Ù…Ø±ÙˆÙ†Ø©' },
    { id:'learn', label:'Ø§Ù„ØªØ¹Ù„Ù‘Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø±' }
  ];

  const dimensionWeights = {
    tech: ["Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ…","Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø± (Prompting)","Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©","Ø£Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª (Ø£Ø³Ø§Ø³ÙŠ)","Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ Ø§Ù„Ø±Ù‚Ù…ÙŠ"],
    logic:["ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨","Ø£Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª (Ø£Ø³Ø§Ø³ÙŠ)"],
    comm:["ØªØµÙ…ÙŠÙ… Ù…Ø­ØªÙˆÙ‰ ØªÙØ§Ø¹Ù„ÙŠ","Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ Ø§Ù„Ø±Ù‚Ù…ÙŠ"],
    lead:["Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ Ø§Ù„Ø±Ù‚Ù…ÙŠ"],
    adapt:["Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ…","ØªØµÙ…ÙŠÙ… Ù…Ø­ØªÙˆÙ‰ ØªÙØ§Ø¹Ù„ÙŠ"],
    learn:["Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø± (Prompting)","Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ","Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ…"]
  };

  function calcGapsMatrix(){
    return demoSkillMatrix.map(s=>({...s,gap:Math.max(0,s.required-s.current)})).sort((a,b)=>b.gap-a.gap);
  }

  function computeGenomeFromEmployee(){
    const bySkill=new Map();
    demoSkillMatrix.forEach(s=>{
      const ratio=s.required?(s.current/s.required):1;
      bySkill.set(s.skill,Math.max(0,Math.min(1,ratio)));
    });
    const genome={};
    Object.keys(dimensionWeights).forEach(dim=>{
      const skills=dimensionWeights[dim];
      const vals=skills.map(sk=>bySkill.get(sk) ?? 0.7);
      const avg=vals.reduce((a,b)=>a+b,0)/Math.max(1,vals.length);
      genome[dim]=Math.round(avg*100);
    });
    skillsDefinition.forEach(d=>{ if(genome[d.id]===undefined) genome[d.id]=65; });
    return genome;
  }

  const skillGenome = computeGenomeFromEmployee();
  const selectedSkills = new Set();

  // =========================
  // ROUTER + GATE
  // =========================
  const sections = document.querySelectorAll('main section');
  const navButtons = document.querySelectorAll('[data-target]');
  const gateToast = document.getElementById('gateToast');

  function showSection(id){
    sections.forEach(sec=>sec.classList.toggle('active-section', sec.id===id));
    window.scrollTo({top:0,behavior:'smooth'});
  }
  function showGateToast(){
    gateToast.style.display='block';
    clearTimeout(showGateToast._t);
    showGateToast._t=setTimeout(()=>gateToast.style.display='none',2200);
  }
  function isAuthed(){ return localStorage.getItem('asg_demo_authed')==='1'; }

  function guardedNavigate(target){
    if(target!=='login' && !isAuthed()){
      showGateToast(); showSection('login'); return;
    }
    showSection(target);
    // refresh on key pages
    if(isAuthed()){
      if(target==='home') renderHomeKpis();
      if(target==='gaps'){ renderEmployeeMeta(); renderGapsPage(); }
      if(target==='dashboard'){ renderDashboard(); }
      if(target==='profile'){ renderEmployeeMeta(); }
      if(target==='pathway'){ renderDemoLearningPath(); }
      if(target==='market'){ updateMarketFromGenome(); }
    }
  }
  navButtons.forEach(btn=>{
    btn.addEventListener('click',()=>{
      const target=btn.getAttribute('data-target');
      if(target) guardedNavigate(target);
    });
  });

  // =========================
  // AUTH
  // =========================
  const navLoginBtn=document.getElementById('navLoginBtn');
  const navLogoutBtn=document.getElementById('navLogoutBtn');
  const loginError=document.getElementById('loginError');

  function setLoginError(msg){
    loginError.style.display = msg ? 'block' : 'none';
    loginError.textContent = msg || '';
  }

  function syncAuthUI(){
    const authed=isAuthed();
    navLoginBtn.style.display = authed ? 'none' : 'inline-flex';
    navLogoutBtn.style.display = authed ? 'inline-flex' : 'none';
  }

  function setDemoCredText(){
    document.getElementById('demoCredText').innerHTML = `
      <strong>Ø¨ÙŠØ§Ù†Ø§Øª Demo Ù„Ù„Ø­ÙƒØ§Ù…:</strong><br>
      Username: <span style="color:var(--neon-cyan);font-weight:800;">${DEMO_CRED.username}</span><br>
      National ID (Demo): <span style="color:var(--neon-cyan);font-weight:800;">${DEMO_CRED.nationalId}</span><br>
      Password: <span style="color:var(--neon-cyan);font-weight:800;">${DEMO_CRED.password}</span><br>
      <span style="opacity:.9;">* Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§ ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø¹Ø±Ø¶ ÙÙ‚Ø·.</span>
    `;
  }

  function doLogin(username,nationalId,password){
    const ok =
      (username||"").trim()===DEMO_CRED.username &&
      (nationalId||"").trim()===DEMO_CRED.nationalId &&
      (password||"")===DEMO_CRED.password;

    if(!ok) return false;

    localStorage.setItem('asg_demo_authed','1');
    syncAuthUI();

    // build pages once
    renderEmployeeMeta();
    renderGapsPage();
    renderDashboard();
    renderDemoLearningPath();
    updateMarketFromGenome();
    renderHomeWelcome();
    renderHomeKpis();
    setupSettingsToggles();

    // Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„: ÙŠØ±ÙˆØ­ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    showSection('home');
    return true;
  }

  function doLogout(){
    localStorage.removeItem('asg_demo_authed');
    syncAuthUI();
    showSection('login');
  }
  navLogoutBtn.addEventListener('click', doLogout);

  document.getElementById('btnFillDemo').addEventListener('click',()=>{
    document.getElementById('loginUsername').value=DEMO_CRED.username;
    document.getElementById('loginNationalId').value=DEMO_CRED.nationalId;
    document.getElementById('loginPassword').value=DEMO_CRED.password;
    setLoginError('');
  });

  document.getElementById('btnLogin').addEventListener('click',()=>{
    const u=document.getElementById('loginUsername').value;
    const n=document.getElementById('loginNationalId').value;
    const p=document.getElementById('loginPassword').value;
    const ok=doLogin(u,n,p);
    if(!ok) setLoginError('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©. Ø§Ø³ØªØ®Ø¯Ù… Ø¨ÙŠØ§Ù†Ø§Øª Demo Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©.');
  });

  // =========================
  // RENDER: EMPLOYEE META + GAPS
  // =========================
  function renderEmployeeMeta(){
    const html=`
      <div>Ø§Ù„Ø§Ø³Ù…: <strong>${demoEmployee.name} (Demo)</strong></div>
      <div>Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©: <strong>${demoEmployee.nationalId} (Demo)</strong></div>
      <div>Ø§Ù„ÙˆØ¸ÙŠÙØ©: <strong>${demoEmployee.role}</strong></div>
      <div>Ø§Ù„Ù‚Ø·Ø§Ø¹: <strong>${demoEmployee.sector}</strong></div>
      <div>Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø®Ø¨Ø±Ø©: <strong>${demoEmployee.experience}</strong></div>
      <div>Ø³Ù†Ø© Ø§Ù„ØªØ®Ø±Ø¬: <strong>${demoEmployee.graduationYear}</strong></div>
      <div>Ø¢Ø®Ø± ØªØ¯Ø±ÙŠØ¨ Ù…Ù‡Ù†ÙŠ: <strong>${demoEmployee.lastTrainingYear}</strong></div>
      <div>Ù…Ù„Ø§Ø­Ø¸Ø©: <strong>${demoEmployee.note}</strong></div>
    `;
    const m1=document.getElementById('demoEmployeeMeta');
    const m2=document.getElementById('profileEmployeeMeta');
    if(m1) m1.innerHTML=html;
    if(m2) m2.innerHTML=html;
  }

  function renderGapsPage(){
    const tbody=document.getElementById('demoGapsTbody');
    if(!tbody) return;

    const recMap={
      "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ…":"AI in Education + Classroom Useâ€‘Cases",
      "Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø± (Prompting)":"Prompt Engineering Basics",
      "ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨":"Student Data Analytics (Dashboards)",
      "Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ":"Responsible AI & Ethics",
      "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ Ø§Ù„Ø±Ù‚Ù…ÙŠ":"LMS + Digital Classroom Management",
      "ØªØµÙ…ÙŠÙ… Ù…Ø­ØªÙˆÙ‰ ØªÙØ§Ø¹Ù„ÙŠ":"Interactive Content Design"
    };

    const gaps=calcGapsMatrix().filter(x=>x.gap>0);
    tbody.innerHTML=gaps.map(g=>`
      <tr>
        <td>${g.skill}</td>
        <td>${g.current}</td>
        <td>${g.required}</td>
        <td><strong style="color:var(--neon-pink)">${g.gap}</strong></td>
        <td>${recMap[g.skill] || "Targeted Training"}</td>
      </tr>
    `).join('');
  }

  // =========================
  // HOME: welcome + kpis
  // =========================
  function renderHomeWelcome(){
    const el=document.getElementById('homeWelcome');
    const el2=document.getElementById('homeSub');
    if(!el || !el2) return;
    el.textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ ğŸ‘‹ ${demoEmployee.name} (Demo)`;
    el2.textContent = `ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„Ùƒ ÙƒÙ€ ${demoEmployee.role} â€” Ù†Ø³ØªØ¹Ø±Ø¶ Ø§Ù„Ø¢Ù† ÙØ¬ÙˆØ§ØªÙƒ Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠØ© ÙˆÙ†Ù‚ØªØ±Ø­ Ù…Ø³Ø§Ø± ØªØ¯Ø±ÙŠØ¨ÙŠ Ù…Ø®ØµØµ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ù„ÙÙƒ.`;
  }

  function renderHomeKpis(){
    const gaps=calcGapsMatrix().filter(x=>x.gap>0);
    const top=gaps[0]?.skill || "â€”";
    const recs = demoLearningPath.flatMap(s=>s.items).length;

    const avg = Math.round(skillsDefinition.reduce((sum,s)=>sum+(skillGenome[s.id]||0),0)/skillsDefinition.length);

    document.getElementById('kpiReadiness').textContent = avg;
    document.getElementById('kpiTopGap').textContent = top;
    document.getElementById('kpiRecs').textContent = recs;
  }

  // =========================
  // DASHBOARD: radar + side lists
  // =========================
  let radarCtx=null;

  function drawRadarChart(){
    const canvas=document.getElementById('skillsRadar');
    if(!canvas) return;
    if(!radarCtx) radarCtx=canvas.getContext('2d');
    const ctx=radarCtx;
    const w=canvas.width,h=canvas.height;
    ctx.clearRect(0,0,w,h);

    const cx=w/2,cy=h/2;
    const radius=Math.min(w,h)*0.32;
    const levels=4;
    const step=(Math.PI*2)/skillsDefinition.length;

    ctx.save();
    ctx.translate(cx,cy);

    for(let lvl=1;lvl<=levels;lvl++){
      const r=(radius/levels)*lvl;
      ctx.beginPath();
      for(let i=0;i<skillsDefinition.length;i++){
        const a=step*i - Math.PI/2;
        const x=Math.cos(a)*r,y=Math.sin(a)*r;
        if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
      }
      ctx.closePath();
      ctx.strokeStyle='rgba(0,224,255,0.18)';
      ctx.lineWidth=1;ctx.stroke();
    }

    for(let i=0;i<skillsDefinition.length;i++){
      const a=step*i - Math.PI/2;
      ctx.beginPath();
      ctx.moveTo(0,0);
      ctx.lineTo(Math.cos(a)*radius, Math.sin(a)*radius);
      ctx.strokeStyle='rgba(0,224,255,0.25)';
      ctx.lineWidth=.8;ctx.stroke();
    }

    ctx.font='11px system-ui';
    ctx.fillStyle='#B4C7E7';
    ctx.textAlign='center';
    ctx.textBaseline='middle';
    skillsDefinition.forEach((s,i)=>{
      const a=step*i - Math.PI/2;
      ctx.fillText(s.label, Math.cos(a)*(radius+18), Math.sin(a)*(radius+18));
    });

    ctx.beginPath();
    skillsDefinition.forEach((s,i)=>{
      const val=Math.max(0,Math.min(100,skillGenome[s.id]||0));
      const r=(val/100)*radius;
      const a=step*i - Math.PI/2;
      const x=Math.cos(a)*r,y=Math.sin(a)*r;
      if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
    });
    ctx.closePath();
    ctx.fillStyle='rgba(0,255,240,0.23)';
    ctx.strokeStyle='rgba(0,255,240,0.8)';
    ctx.lineWidth=2;
    ctx.shadowColor='rgba(0,255,240,0.8)';
    ctx.shadowBlur=12;
    ctx.fill(); ctx.stroke();

    ctx.restore();
  }

  function renderDashboard(){
    const avg = Math.round(skillsDefinition.reduce((sum,s)=>sum+(skillGenome[s.id]||0),0)/skillsDefinition.length);
    document.getElementById('readinessValue').textContent=avg;

    const sList=document.getElementById('skillsSummaryList');
    sList.innerHTML='';
    skillsDefinition.forEach(s=>{
      const li=document.createElement('li');
      li.innerHTML=`<span>${s.label}</span><span style="color:var(--neon-cyan);font-weight:800;">${skillGenome[s.id]}/100</span>`;
      sList.appendChild(li);
    });

    const gapsEl=document.getElementById('empGapsList');
    const coursesEl=document.getElementById('empCoursesList');

    const topGaps=calcGapsMatrix().filter(x=>x.gap>0).slice(0,4);
    gapsEl.innerHTML=topGaps.map(g=>`<li><span>${g.skill}</span><span class="tag">ÙØ¬ÙˆØ©: ${g.gap}</span></li>`).join('');

    const flatCourses=demoLearningPath.flatMap(s=>s.items).slice(0,4);
    coursesEl.innerHTML=flatCourses.map(c=>`<li><span>${c.title}</span><span class="tag">${c.platform}</span></li>`).join('');

    drawRadarChart();
  }

  // =========================
  // PATHWAY
  // =========================
  function renderDemoLearningPath(){
    const grid=document.getElementById('demoLPGrid');
    if(!grid) return;
    grid.innerHTML = demoLearningPath.map(stage=>`
      <div class="market-card" style="background:rgba(10,16,28,.75);">
        <div style="font-weight:900;color:#DCE8FF;margin-bottom:.35rem;">${stage.stage}</div>
        ${stage.items.map(it=>`
          <div style="border-top:1px dashed rgba(0,224,255,.14);padding-top:.55rem;margin-top:.55rem;display:flex;justify-content:space-between;gap:.6rem;">
            <div>
              <div style="font-weight:800;color:#DCE8FF;">${it.title}</div>
              <div style="font-size:.76rem;color:var(--text-muted);">${it.platform}</div>
            </div>
            <a href="${it.url}" target="_blank" rel="noreferrer" style="color:var(--neon-blue);font-weight:900;">Open</a>
          </div>
        `).join('')}
      </div>
    `).join('');
  }

  // =========================
  // MARKET
  // =========================
  const skillRecommendations={
    logic:[{title:'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ù‚Ø¯ÙŠ ÙˆØµÙ†Ø¹ Ø§Ù„Ù‚Ø±Ø§Ø±',meta:'6 Ø³Ø§Ø¹Ø§Øª',tags:['Critical Thinking','Problem Solving']}],
    comm:[{title:'Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„ÙØ¹Ø§Ù„ ÙÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø±Ù‚Ù…ÙŠ',meta:'5 Ø³Ø§Ø¹Ø§Øª',tags:['Communication','Remote']}],
    lead:[{title:'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ ÙˆØ§Ù„ØªØ£Ø«ÙŠØ±',meta:'4 Ø³Ø§Ø¹Ø§Øª',tags:['Leadership','Coaching']}],
    tech:[
      {title:'Generative AI for Education',meta:'12 Ø³Ø§Ø¹Ø©',tags:['GenAI','AI in Education']},
      {title:'Prompt Engineering Basics',meta:'7 Ø³Ø§Ø¹Ø§Øª',tags:['Prompting','LLMs']}
    ],
    adapt:[{title:'Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ Ø¨ÙŠØ¦Ø§Øª Ø³Ø±ÙŠØ¹Ø© Ø§Ù„ØªØºÙŠØ±',meta:'4 Ø³Ø§Ø¹Ø§Øª',tags:['Adaptability']}],
    learn:[{title:'Learning How to Learn',meta:'3 Ø³Ø§Ø¹Ø§Øª',tags:['Selfâ€‘Learning']}]
  };

  function updateMarketFromGenome(){
    const container=document.getElementById('marketRecommendations');
    if(!container) return;
    container.innerHTML='';

    const sorted=[...skillsDefinition].sort((a,b)=>(skillGenome[a.id]||0)-(skillGenome[b.id]||0));
    const weakest=sorted.slice(0,3);

    weakest.forEach(skill=>{
      (skillRecommendations[skill.id]||[]).forEach(rec=>{
        const card=document.createElement('div');
        card.className='market-card';
        card.innerHTML=`
          <div class="market-card-title">${rec.title}</div>
          <div class="market-card-meta">${skill.label} â€¢ ${rec.meta}</div>
          <div class="market-tag-row">${rec.tags.map(t=>`<span class="market-tag">${t}</span>`).join('')}</div>
          <button class="btn-small" style="font-size:.75rem;padding:.35rem .9rem;margin-top:.1rem;">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ù…Ø³Ø§Ø±ÙŠ</button>
        `;
        card.querySelector('button').addEventListener('click',()=>addToSkillsBasket(rec.title,skill.label));
        container.appendChild(card);
      });
    });
  }

  function addToSkillsBasket(skillTitle,dimensionLabel){
    const key=`${skillTitle}__${dimensionLabel}`;
    if(selectedSkills.has(key)) return;
    selectedSkills.add(key);

    const list=document.getElementById('skillsBasketList');
    const li=document.createElement('li');
    li.innerHTML=`<span>${skillTitle}<span style="font-size:.75rem;color:var(--text-muted);"> â€¢ ${dimensionLabel}</span></span><span class="basket-pill">Ø¶Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø±</span>`;
    list.appendChild(li);
  }

  // =========================
  // SETTINGS TOGGLES (simple)
  // =========================
  function paintSwitch(el,on){
    el.style.background = on ? 'linear-gradient(135deg,var(--neon-blue),var(--neon-purple))' : '#354055';
    el.style.boxShadow = on ? '0 0 16px rgba(0,224,255,.6)' : 'none';
  }
  function setupSettingsToggles(){
    const neonToggle=document.getElementById('toggleNeonAnimation');
    const rmToggle=document.getElementById('toggleReducedMotion');
    const neonSlider=document.getElementById('neonSlider');
    const rmSlider=document.getElementById('rmSlider');

    paintSwitch(neonSlider,true);
    paintSwitch(rmSlider,false);

    neonToggle.addEventListener('change',()=>{
      paintSwitch(neonSlider,neonToggle.checked);
      document.querySelectorAll('.neon-orb').forEach(orb=>{
        if(neonToggle.checked) orb.classList.remove('neon-paused');
        else orb.classList.add('neon-paused');
      });
    });

    rmToggle.addEventListener('change',()=>{
      paintSwitch(rmSlider,rmToggle.checked);
      if(rmToggle.checked) document.body.classList.add('reduced-motion');
      else document.body.classList.remove('reduced-motion');
    });
  }

  // =========================
  // INIT
  // =========================
  window.addEventListener('DOMContentLoaded',()=>{
    setDemoCredText();
    syncAuthUI();

    if(!isAuthed()){
      showSection('login');
      return;
    }

    // authed
    renderEmployeeMeta();
    renderGapsPage();
    renderDashboard();
    renderDemoLearningPath();
    updateMarketFromGenome();
    renderHomeWelcome();
    renderHomeKpis();
    setupSettingsToggles();

    showSection('home');
  });
</script>
</body>
</html>
